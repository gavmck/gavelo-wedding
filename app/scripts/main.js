// Scroll spy
!function e(t,n,o){function r(c,l){if(!n[c]){if(!t[c]){var f="function"==typeof require&&require;if(!l&&f)return f(c,!0);if(i)return i(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var s=n[c]={exports:{}};t[c][0].call(s.exports,function(e){var n=t[c][1][e];return r(n?n:e)},s,s.exports,e,t,n,o)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e.getBoundingClientRect(),n=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||n.scrollTop,i=window.pageXOffset||o.scrollLeft||n.scrollLeft,c=o.clientTop||n.clientTop||0,l=o.clientLeft||n.clientLeft||0,f=t.top+r-c,u=t.left+i-l;return{top:Math.round(f),left:Math.round(u)}}},{}],2:[function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=e("./scroll-spy");!function(e){"function"==typeof define&&define.amd?define([],e):"object"===("undefined"==typeof window?"undefined":o(window))&&(window.scrollSpy=e())}(function(){return r})},{"./scroll-spy":3}],3:[function(e,t,n){"use strict";function o(e){for(var t=[],n=0,o=e.length;o>n;n++){var r=e[n].hash.replace(/^#/,""),c=document.getElementById(r),l=i(c),f=window.getComputedStyle(document.getElementById(r)).height;t[n]={height:parseInt(f),top:l.top,elem:e[n]}}return t}function r(e,t){for(var n=0,o=0,r=e.length;r>o;o++)if(l.scrollTop<e[o].top-e[o].height/3){n=o;break}for(var i=0,f=e.length;f>i;i++)c.removeClass(e[i].elem,t);n>0&&c.addClass(e[n-1].elem,t)}var i=e("./getOffsetRect"),c=e("./util"),l=document.body;t.exports={init:function(e){var t=e.activeClassName||"active",n=e.scrollTarget||document,i=Array.prototype.slice.call(e.nodeList),l=o(i);r(l,t),c.bind(n,"scroll",function(){r(l,t)})}}},{"./getOffsetRect":1,"./util":4}],4:[function(e,t,n){"use strict";t.exports={bind:function(e,t,n){e.addEventListener(t,n,!1)},addClass:function(e,t){var n=e.className.split(" ");return n.indexOf(t)<0&&n.push(t),e.className=n.join(" "),e},removeClass:function(e,t){var n=e.className.split(" "),o=n.indexOf(t);return o>-1&&n.splice(o,1),e.className=n.join(" "),e}}},{}]},{},[2]);

// Zen scroll
!function(t,e){"function"==typeof define&&define.amd?define([],e()):"object"==typeof module&&module.exports?module.exports=e():function n(){document&&document.body?t.zenscroll=e():setTimeout(n,9)}()}(this,function(){"use strict";var t=function(t){return"getComputedStyle"in window&&"smooth"===window.getComputedStyle(t)["scroll-behavior"]};if("undefined"==typeof window||!("document"in window))return{};var e=function(e,n,o){n=n||999,o||0===o||(o=9);var i,r=function(t){i=t},u=function(){clearTimeout(i),r(0)},c=function(t){return Math.max(0,e.getTopOf(t)-o)},f=function(o,i,c){if(u(),0===i||i&&i<0||t(e.body))e.toY(o),c&&c();else{var f=e.getY(),a=Math.max(0,o)-f,l=(new Date).getTime();i=i||Math.min(Math.abs(a),n),function t(){r(setTimeout(function(){var n=Math.min(1,((new Date).getTime()-l)/i),o=Math.max(0,Math.floor(f+a*(n<.5?2*n*n:n*(4-2*n)-1)));e.toY(o),n<1&&e.getHeight()+o<e.body.scrollHeight?t():(setTimeout(u,99),c&&c())},9))}()}},a=function(t,e,n){f(c(t),e,n)},l=function(t,n,i){var r=t.getBoundingClientRect().height,u=e.getTopOf(t)+r,l=e.getHeight(),s=e.getY(),d=s+l;c(t)<s||r+o>l?a(t,n,i):u+o>d?f(u-l+o,n,i):i&&i()},s=function(t,n,o,i){f(Math.max(0,e.getTopOf(t)-e.getHeight()/2+(o||t.getBoundingClientRect().height/2)),n,i)};return{setup:function(t,e){return(0===t||t)&&(n=t),(0===e||e)&&(o=e),{defaultDuration:n,edgeOffset:o}},to:a,toY:f,intoView:l,center:s,stop:u,moving:function(){return!!i},getY:e.getY,getTopOf:e.getTopOf}},n=document.documentElement,o=function(){return window.scrollY||n.scrollTop},i=e({body:document.scrollingElement||document.body,toY:function(t){window.scrollTo(0,t)},getY:o,getHeight:function(){return window.innerHeight||n.clientHeight},getTopOf:function(t){return t.getBoundingClientRect().top+o()-n.offsetTop}});if(i.createScroller=function(t,o,i){return e({body:t,toY:function(e){t.scrollTop=e},getY:function(){return t.scrollTop},getHeight:function(){return Math.min(t.clientHeight,window.innerHeight||n.clientHeight)},getTopOf:function(t){return t.offsetTop}},o,i)},"addEventListener"in window&&!window.noZensmooth&&!t(document.body)){var r="scrollRestoration"in history;r&&(history.scrollRestoration="auto"),window.addEventListener("load",function(){r&&(setTimeout(function(){history.scrollRestoration="manual"},9),window.addEventListener("popstate",function(t){t.state&&"zenscrollY"in t.state&&i.toY(t.state.zenscrollY)},!1)),window.location.hash&&setTimeout(function(){var t=i.setup().edgeOffset;if(t){var e=document.getElementById(window.location.href.split("#")[1]);if(e){var n=Math.max(0,i.getTopOf(e)-t),o=i.getY()-n;0<=o&&o<9&&window.scrollTo(0,n)}}},9)},!1);var u=new RegExp("(^|\\s)noZensmooth(\\s|$)");window.addEventListener("click",function(t){for(var e=t.target;e&&"A"!==e.tagName;)e=e.parentNode;if(!(!e||1!==t.which||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)){if(r)try{history.replaceState({zenscrollY:i.getY()},"")}catch(t){}var n=e.getAttribute("href")||"";if(0===n.indexOf("#")&&!u.test(e.className)){var o=0,c=document.getElementById(n.substring(1));if("#"!==n){if(!c)return;o=i.getTopOf(c)}t.preventDefault();var f=function(){window.location=n},a=i.setup().edgeOffset;a&&(o=Math.max(0,o-a),f=function(){history.pushState(null,"",n)}),i.toY(o,null,f)}}},!1)}return i});

// Handle form switcheroo
var radios = Array.prototype.slice.call(document.querySelectorAll('[name=coming]'));

radios.forEach(function(radio) {
  radio.addEventListener('change', function() {
    if (document.getElementById('coming').checked) {
      document.querySelector('.mailing-list').classList.remove('mailing-list--not-coming');
      document.querySelector('.mailing-list__form').setAttribute('action', '//wedding.us14.list-manage.com/subscribe/post?u=92a3d372e3589c053904d922b&amp;id=ba09a53b27');
    } else {
      document.querySelector('.mailing-list').classList.add('mailing-list--not-coming');
      document.querySelector('.mailing-list__form').setAttribute('action', 'https://formspree.io/gavyn.mckenzie@gmail.com');
    }
  });
});

// Scroll spy for the nav
scrollSpy.init({
  nodeList: document.querySelectorAll('.nav__link'),
  activeClassName: 'nav__link--active',
});


